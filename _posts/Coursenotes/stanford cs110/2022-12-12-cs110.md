---
layout: post
title: "[Stanford CS110] Principles of Computer Systems"
date: 2022-12-12 09:00:00 +0800
categories: [Course Notes, stanford cs110]
tags: [Operating System, Computer Systems]
---


Lecture references:
- [<span style="color:#3ababa">Spring 2017 CS110 Archived</span>](http://web.stanford.edu/class/archive/cs/cs110/cs110.1176/spring-2017/) 
- [<span style="color:#3ababa">YouTube Videos</span>](https://www.youtube.com/watch?v=_LFGjZ0Sc6I&list=PLai-xIlqf4JmTNR9aPCwIAOySs1GOm8sQ&index=2) 


## Lecuture 12 mutex, conditional_variable_any, semaphore

The general pattern of conditional_variable_any:
```
static void waitForPermission(size_t& permits, condition_variable_any& cv, mutex& m) 
{
    lock_guard<mutex> lg(m);
    while(permits == 0) 
        cv.wait(m);
    permits--;
}

static void grantPermission(size_t& permits, condition_variable_any& cv, mutex& m)
{
    lock_guard<mutex> lg(m);
    permits++;
    if(permits == 1) 
        cv.notify_all();
}
```




